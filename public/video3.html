<!-- video3.html -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video 3 Playback</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body style="background-color: #f0f0f0;">
    <div class="div1">
        <video id="videoPlayer3"  style="max-width: 33%;" controls>
            <source src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <script>
        let socket;

        function connectWebSocket() {
            socket = new WebSocket('wss://stutass.onrender.com');

            socket.onopen = () => {
                console.log('Connected to the server');
            };

            socket.onmessage = (event) => {
                console.log('Message from server:', event.data);
            };

            socket.onclose = () => {
                console.log('Disconnected from the server');
                setTimeout(connectWebSocket, 5000);
            };

            socket.onerror = (error) => {
                console.error('WebSocket error:', error);
                setTimeout(connectWebSocket, 5000);
            };
        }

        function sendMessage(username, status) {
            if (socket && socket.readyState === WebSocket.OPEN) {
                console.log('Sending:', `${username}:${status}`);
                socket.send(`${username}:${status}`);
            } else {
                console.error('WebSocket not open');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const videoPlayer = document.getElementById('videoPlayer3');
            const username = 'default_user'; // Replace with the actual username

            connectWebSocket();

            videoPlayer.addEventListener('play', () => {
                sendMessage(username, 'Video3 Playing');
            });

            videoPlayer.addEventListener('pause', () => {
                sendMessage(username, 'Video3 Paused');
            });
        });
    </script>
</body>
</html>
